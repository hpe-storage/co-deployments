apiVersion: storage.hpe.com/v1
kind: HPECSIDriver
metadata:
  name: csi-driver
spec:
  # Default values copied from <project_dir>/helm-charts/hpe-csi-driver/values.yaml

  # sidecar-images
  csiProvisionerImage: quay.io/k8scsi/csi-provisioner
  csiProvisionerTagv0: v1.4.0
  csiProvisionerTagv1: v1.5.0
  csiSnapshotterImage: quay.io/k8scsi/csi-snapshotter
  csiSnapshotterTag: v2.0.1
  nodeRegistrarImage: quay.io/k8scsi/csi-node-driver-registrar
  nodeRegistrarTag: v1.1.0
  csiAttacherImage: quay.io/k8scsi/csi-attacher
  csiAttacherTagv0: v1.1.0
  csiAttacherTagv1: v1.2.0
  csiResizerImage: quay.io/k8scsi/csi-resizer
  csiResizerTag: v0.3.0
  # csi-driver tag
  csiDriverImage: hpestorage/csi-driver
  csiDriverTag: v1.1.0-beta
  # csp-hpe
  cspImage: hpestorage/nimble-csp
  cspTag: v1.1.0-beta
  cspName: nimble-csp
  # post-install
  postInstallImage: 'alpine'
  postInstallTag: '3.3'
  # image pull policy for csi driver images
  imagePullPolicy: 'Always'
  # parameters for nimble
  backend: 192.168.1.1
  username: admin
  password: admin
  servicePort: "8080"
  serviceName: nimble-csp-svc
  secretName: nimble-secret
  # storage class parameters
  fsType: xfs
  volumeDescription: "Volume created by the HPE CSI Driver for Kubernetes"
  accessProtocol: "iscsi"
  allowVolumeExpansion: true
  # service parameters
  # wait seconds for doryd/csi/csp services to start
  serviceWaitTime: "10"
  # flavor
  flavor: kubernetes
  # log level for all csi driver components
  logLevel: info
  ## For creating the StorageClass automatically:
  storageClass:
    create: true
    ## Set StorageClass as the default StorageClass
    ## Ignored if storageClass.create is false
    defaultClass: false
    ## Set a StorageClass name
    ## Ignored if storageClass.create is false
    name: hpe-standard
  CRD:
    nodeInfo:
      ## For helm v3+ CRD's are handled automatically without this flag.
      ## This flag should be enabled for helm v2+
      create: false

